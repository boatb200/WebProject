<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ผลงาน — รีโนเวทคอนโด | TRONGJAI DESIGN & CONSTRUCTION</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>รีโนเวทคอนโด</h1>
    <p>ผลงานการออกแบบและก่อสร้างโดย TRONGJAI DESIGN & CONSTRUCTION</p>
  </header>

  <nav aria-label="หลัก">
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="services.html">Services</a>
    <a href="contact.html">Contact</a>
    <a href="performance.html">Performance</a>
  </nav>

  <section class="wrap project-page">
    <a class="back-link" href="performance.html">← กลับไปหน้าผลงาน</a>

    <div class="project-gallery" aria-label="แกลเลอรีผลงาน">
      <div class="project-gallery-main" id="galleryMain">
        <img id="mainMedia" src="work3/work3.1.jpg" alt="ภาพรีโนเวทคอนโด มุมมองที่ 1">
      </div>

      <div class="project-thumbs" id="thumbs">
        <img class="project-thumb is-active" src="work3/work3.1.jpg" alt="ตัวอย่างมุมที่ 1" data-full="work3/work3.1.jpg" loading="lazy">
        <img class="project-thumb" src="work3/work3.2.jpg" alt="ตัวอย่างมุมที่ 2" data-full="work3/work3.2.jpg" loading="lazy">
        <img class="project-thumb" src="work3/work3.3.jpg" alt="ตัวอย่างมุมที่ 3" data-full="work3/work3.3.jpg" loading="lazy">
        <img class="project-thumb" src="work3/work3.4.jpg" alt="ตัวอย่างมุมที่ 4" data-full="work3/work3.4.jpg" loading="lazy">
        <img class="project-thumb" src="work3/work3.5.jpg" alt="ตัวอย่างมุมที่ 5" data-full="work3/work3.5.jpg" loading="lazy">

        <!-- วิดีโอเป็น thumbnail -->
        <video class="project-thumb"
               muted playsinline webkit-playsinline loop preload="metadata"
               poster="video/re1_poster.png"
               data-full="video/re1.mp4"
               aria-label="วิดีโองานรีโนเวท (คลิกเพื่อเล่น)">
          <source src="video/re1.mp4" type="video/mp4">
        </video>

        <video class="project-thumb"
               muted playsinline webkit-playsinline loop preload="metadata"
               poster="video/re2_poster.png"
               data-full="video/re2.mp4"
               aria-label="วิดีโองานรีโนเวท (คลิกเพื่อเล่น)">
          <source src="video/re2.mp4" type="video/mp4">
        </video>
      </div>
    </div>
  </section>

  <section class="wrap project-page">
    <h2>รายละเอียดโครงการ</h2>
    <p>
      โครงการนี้เป็นงานรีโนเวทคอนโดมิเนียมยูนิตเดี่ยว โดยทีมงานของเราได้เข้าไปปรับปรุงทั้งโครงสร้างพื้นฐานและงานตกแต่งภายในใหม่ทั้งหมด
      เพื่อให้ตอบโจทย์การใช้ชีวิตของเจ้าของห้อง ทั้งในแง่ของความสะดวกสบาย การจัดฟังก์ชันที่ลงตัว และบรรยากาศที่อบอุ่นทันสมัย
    </p>
    <div class="specs">
      <div class="card">
        <h4>ขนาดพื้นที่</h4>
        <p>คอนโดยูนิตขนาด ~45 ตร.ม. (1 ห้องนอน · 1 ห้องน้ำ · ห้องนั่งเล่น · ครัว)</p>
      </div>
      <div class="card">
        <h4>งานที่ดำเนินการ</h4>
        <p>ปรับผังเฟอร์นิเจอร์ใหม่ · เปลี่ยนพื้นไม้ลามิเนต · ทำฝ้าและระบบไฟใหม่ · ติดตั้งครัวบิวท์อิน</p>
      </div>
      <div class="card">
        <h4>วัสดุเด่น</h4>
        <p>พื้นไม้ SPC กันน้ำ · เคาน์เตอร์ครัวหินควอทซ์ · สุขภัณฑ์ประหยัดน้ำ · กระจกบานเลื่อนบานใหญ่</p>
      </div>
      <div class="card">
        <h4>สไตล์การตกแต่ง</h4>
        <p>Modern Minimal โทนอบอุ่น · เน้นเส้นสายเรียบง่าย · ใช้แสงธรรมชาติผสมไฟ Warm White</p>
      </div>
    </div>
    <p style="margin-top:16px">หากคุณสนใจรีโนเวทคอนโดในลักษณะนี้ สามารถติดต่อทีมงานเราเพื่อขอคำปรึกษาและประเมินราคาได้ฟรี</p>
    <a class="cta" href="contact.html">ติดต่อสอบถาม</a>
  </section>

  <footer>© 2025 TRONGJAI DESIGN & CONSTRUCTION · สงวนลิขสิทธิ์</footer>

  <script>
  (() => {
    const mainWrap = document.getElementById('galleryMain');
    const thumbs = Array.from(document.querySelectorAll('.project-thumbs .project-thumb'));
    let currentIndex = 0;

    function makeVideo(src, poster) {
      const v = document.createElement('video');
      v.setAttribute('controls', '');
      v.setAttribute('autoplay', ''); v.autoplay = true;
      v.setAttribute('muted', '');    v.muted = true;
      v.setAttribute('playsinline', ''); v.setAttribute('webkit-playsinline', ''); v.playsInline = true;
      v.preload = 'metadata';
      if (poster) v.poster = poster;
      v.src = src;
      v.addEventListener('canplay', () => { const p = v.play(); if (p && p.catch) p.catch(()=>{}); });
      return v;
    }

    function renderMainFrom(src, poster) {
      mainWrap.innerHTML = '';
      if (typeof src === 'string' && src.toLowerCase().endsWith('.mp4')) {
        mainWrap.appendChild(makeVideo(src, poster));
      } else {
        const img = document.createElement('img');
        img.src = src;
        img.alt = 'ภาพรีโนเวทคอนโด — ภาพหลัก';
        mainWrap.appendChild(img);
      }
    }

    function fullSrcFromThumb(el) {
      if (el.dataset.full) return el.dataset.full;
      if (el.tagName === 'VIDEO') {
        const s = el.querySelector('source');
        if (s && s.src) return s.src;
      }
      return el.src;
    }
    function posterFromThumb(el){ return el.poster || el.getAttribute('poster') || ''; }

    function setActive(i) {
      currentIndex = i;
      const full = fullSrcFromThumb(thumbs[i]);
      const poster = posterFromThumb(thumbs[i]);
      renderMainFrom(full, poster);
      thumbs.forEach(t => t.classList.remove('is-active'));
      thumbs[i].classList.add('is-active');
      thumbs[i].scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
    }

    thumbs.forEach((t, i) => {
      t.tabIndex = 0;
      t.addEventListener('click', () => setActive(i));
      t.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); setActive(i); }
      });
      if (t.tagName === 'IMG') t.addEventListener('error', () => t.style.display = 'none');
    });

    window.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') setActive((currentIndex + 1) % thumbs.length);
      if (e.key === 'ArrowLeft')  setActive((currentIndex - 1 + thumbs.length) % thumbs.length);
    });

    const firstMain = document.getElementById('mainMedia');
    if (firstMain && firstMain.tagName === 'IMG') {
      firstMain.addEventListener('error', () => setActive((currentIndex + 1) % thumbs.length));
    }
  })();
  </script>
</body>
</html>
